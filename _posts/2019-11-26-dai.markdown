---
layout: post
title: "Multi-collateral DAI"
date: 2019-11-26
img: autumn.jpg
description: # Add post description (optional)
tag: [ethereum, dai, mcd]
---

우리가 교환 수단으로 사용하는 "화폐"의 기본 전제는 거래 당사자들이 모두 그 가치와 단위에 합의한다는 것입니다. 암호화폐도 마찬가지로, 어떤 가치를 지니고 있다는 전제가 필요합니다.
이 부분에서 사람들의 생각은 큰 차이가 있게 되고 법정화폐와는 다른 위치에 서게 되는 것입니다. 하지만 보통 사람들은 그 가치가 어디에서 비롯되었을까 하는 근본적인 의문이나
자신의 관점을 적용시키기 보다는 단순히 수요와 공급의 관계로 접근하는 경우가 많습니다.

## Stable coin

암호화폐는 가격 변동성(volatility) 때문에 지불 수단으로 사용하기에 적합하지 않습니다. 하루에도 몇 %씩 오르락 내리락 하기 때문에 누군가는 웃고 누군가는 손해를 볼 테니까 말입니다.
그렇다고 거래소에서 항상 달러나 자국의 법정화폐를 사용한다는 것도 국가 간의 경계를 무시하는 암호화폐에서는 맞지 않는 것 같습니다. 아무튼 전세계적으로 사용할 수 있는
가치가 안정된 디지털 화폐를 사용한다면 암호화폐 생태계는 훨씬 더 발전할 것입니다.

"스테이블 코인"의 배경에는 이렇게 실용적인 목적이 있습니다. 가치가 안정되고 글로벌하며 누구의 간섭도 받지 않는 디지털 화폐가 바로 스테이블 코인입니다. 테더(USDT)는 가장 잘 알려진 스테이블 코인입니다. 1 달러가 바로 1 USDT가 됩니다. 테더(Tether Inc.)라는 기업이 그 발행과 관리를 맡고 있으며 그래서 "중앙화"된, 법정화폐를 담보로 하는(fiat-collateralized) 스테이블 코인입니다.  가치가 안정되고 기축통화처럼 사용되는 달러를 기반으로
발행되므로 USDT 역시 가치가 안정적이라고 할 수 있는 것입니다(그러나 실제로 발행된 USDT만큼 Tether Inc.가 달러를 가지고 있는지는 여전히 의문입니다).

## Cryptocurrency-backed Stable coin

법정화폐에 기반한 스테이블 코인만 있는 것은 아닙니다. 그 중에 De-fi의 선두 주자라고 할 수 있는 Maker 시스템의 DAI가 있습니다. DAI는 이더리움 상에서 발행되는 스테이블 코인으로 ETH를 담보로 하여 DAI를 발행하는데(최근에 ETH 외에 다른 암호화폐로도 담보가 가능하게 다중 담보 MCD로 업그레이드), 1 DAI는 1 달러입니다. USDT와의 가장 큰 차이점은 중앙화되지 않은 스테이블 코인이라는 점입니다. 물론 Maker라는 곳에서 개발한 것이긴 하지만 운영 방식이 탈중앙화되어 있습니다. 이더는 분명히 시세가 있으므로(현재 147달러) 이를 담보로 DAI를 발행하는 것입니다.

그러나 1 ETH가 147 달러라고 해서 147 DAI를 발행하는 것은 아닙니다. 발행되는 DAI보다 더 많은 담보를 맡겨야 한다는 것이 USDT와 다른 점입니다. 다시 말해서 1 ETH(147 달러)를 담보로
발행할 수 있는 DAI는 최대 98 달러 정도입니다. 여기서 담보율(Collateralization ratio, Liquidation ratio)이라는 것이 있는데 DAI를 발행하려면 최소 150% 정도의 담보를 제공해야 한다는 말입니다. 어떻게 보면 스테이블 코인이라고 하기 보다는 암호화폐 담보 대출 서비스(lending/borrow service)라고 해도 될 것 같습니다("DAI"라는 이름은 "빌린다"는 의미의 "貸"에서 유래합니다).

그래서 USDT와는 달리, 흔히 말하는 재정거래(arbitrage)로는 적합하지 않습니다. 왜냐하면 DAI는 담보로 잡힌 ETH보다 항상 작은 금액이기 때문에 설령 DAI를 1 달러보다 높은 가격에 팔았다고 해도
큰 의미가 없습니다. 더구나 맞교환하는 형태가 아니라 ETH를 담보로 하여 빌리는 형태이므로 이것을 되찾으려면 DAI를 상환해야만 하고 상환 시점의 DAI의 가격이 대출 시점보다 낮아야만 이익을 보기 때문에 역시 재미를 보기는 어렵습니다. 스테이블 코인의 특성상 1 달러 이상으로 폭등하거나 이하로 폭락하는 일은 자주 일어나지 않기 때문입니다.

담보율은 DAI의 가치 안정화의 수단이 됩니다. 담보율이 커질수록 발행할 수 있는 DAI는 줄어들게 되지만 ETH의 가치가 떨어지더라도 DAI의 가격 안정성이 유지될 수 있습니다. 사용자가 제공한 담보와 대출금에 해당하는 DAI는 모두 CDP(Collateralized Debt Position)라는 컨트랙트를 통해 관리됩니다(MCD로 업그레이드되면서 Vault 라는 명칭으로 변경되었습니다). 사용자는 DAI를 발행(대출)한 사람이 되고 Vault의 주인이 됩니다.

당연히 ETH의 가치가 높을 때, 더 많은 DAI를 빌릴 수 있기 때문에 대출을 받아 두는 것이 유리할 것입니다. ETH가 지속적인 하락장에 접어들면 미리 발행한 DAI를 사용하여 ETH를 저가에 구매하고 다시 이것을 예치하여 다시 DAI를 대출받고 또 ETH를 구매하는 식으로 ETH를 꾸준히 모을 수 있습니다. 일종의 레버리지라고 할 수 있겠습니다. <b>물론 이러한 롱 레버리지 전략은 장기적으로, 이더리움의 가치가 상승할 때가 분명히 올 것이라는 확신을 전제로 하고 있습니다(부채를 상환해도 남는다면!)</b>. 리스크가 있지만 ETH를 계속 보유하면서 장기적인 투자를 통해 수익을 실현하는 방법이 될 수 있겠습니다(상승장에서는 일부 ETH를 팔아서 부채를 DAI로 상환해가면 담보율이 증가되므로 Vault를 안정적으로 유지할 수 있습니다).

국내에서는 아직 암호화폐로 인하여 얻은 수익에 대한 세금(양도소득세)이 없지만 외국은 암호화폐를 자산으로 보고 세금을 부과합니다. 그래서 이렇게
암호화폐 대출 서비스를 이용하면 양도소득세에 대한 부담없이 자산을 관리하고, 스테이블 코인을 대출받아 유동성을 확보한다는 장점도 있습니다.

특별한 상황이 아니라면 DAI는 1 달러에 근처에 고정됩니다. 그러나 어떤 요인에 의해 DAI의 가격이 불안정해지면 수요와 공급을 유인하는 "Target Rate Feedback Mechanism"을 통해 가격을 안정화시킵니다. 간단히 말해서 DAI 가격이 오르면 대출을 받는 것을 유리하게 하여 수요를 늘리고, 반대로 가격이 떨어지면 상환에 대한 인센티브를 제공하여 공급을 줄이는 것입니다.

## Liquidation

스테이블 코인이라고 해도, 부동산 시장이 침체되거나 집값이 폭락하면 부동산 담보 대출 부실화로 이어지듯이 DAI 역시 그런 위험성이 존재합니다. 따라서 담보의 가치가 일정 수준 이하로 떨어질(under-collateralized) 위험이 감지되면, 담보의 청산(Liquidation) 절차가 시작됩니다. 여기서 일정 수준 이하란 Liquidation price 이하로 ETH의 가격이 떨어질 위험을 말합니다. 청산이란 담보를 경매로 처분하는 것인데, 왜냐하면 경매를 통해 가장 높은 가격으로 담보물(ETH)을 처분하여 DAI를 회수하는 것입니다. 즉 발행된 DAI의 공급량을 줄이면서 항상 충분한 ETH가 대출된 DAI를 담보하도록 하는 것입니다.

그런데 청산이 시작되면 단순히 대출된 DAI 금액만 처분되는 것이 아니라 Liquidation penalty 라고 하는 위약금을 Vault의 소유자(대출자)가 부담해야 합니다. 현재(2019.12) 담보의 13%가 책정되어 있습니다. 다시 말해서 청산은 부채와 위약금을 합한 금액을 변제하는 것입니다. 만약에 그렇게 변제한 후에 남은 담보가 있다면 Vault 소유자에게 되돌려 주게 됩니다. 이런 형태의 경매를 Collateral auction 이라고 합니다.

위험한 Vault를 모니터링하는 사람들을 "Keeper" 라고 하는데 이들은 DAI의 차익거래나 청산되는 Vault의 경매에 참여하여 이익을 취하는 시스템의 외부 참여자입니다.

## Stability fee

안정화 수수료(Stability fee)는 일종의 대출 이자에 해당하는 것으로 현재(2019.12) 연 4% 로 책정되어 원금에 조금씩 누적되게 됩니다. 결과적으로 Vault를 종료하면서(상환) 대출 원금과 해당 기간 동안 누적된 안정화 수수료를 함께 지불해야 담보를 되돌려 받을 수 있습니다(담보를 돌려주고 상환된 DAI는 소각). 안정화 수수료가 높아지면 대출 이자가 높아지는 셈이므로 DAI 발행이 줄어들 것입니다. 안정화 수수료는 DAI로, Maker Buffer에 적립되는데, 일정량을 초과하게 되면 여분의(Surplus) DAI는 경매로 넘어갑니다. 이 경매를 Surplus auction이라고 하고 MKR 토큰 보유자들이 참여하여, MKR 토큰을 사용하여 DAI를 낙찰받게 됩니다.

그런데 위와 같은 상황은 시장이 안정적일 경우입니다. 만약에 담보인 ETH의 가치가 급격하게 폭락하여 Collateral auction으로는 청산이 되지 않을 수 있습니다. Vault가 부실화되면 담보를 처분하더라도 "빚"이 남는 상황이 되는 것입니다. 이 경우에는 Maker 시스템이 대신 Maker Buffer에 적립된 안정화 수수료를 사용하여 부채를 청산합니다. 또 이것으로도 안되는 경우 Debt auction을 실행하는데, 이것은 새로 발행(mint)한 MKR 토큰을 경매하는 것입니다(이것을 MKR diluting 이라고 표현). 여기서 들어온 DAI로 "빚"을 청산하게 됩니다.

## MKR Token

담보 대출 시스템, Maker 시스템은 결국 Maker 프로토콜의 구현체입니다. 이 프로토콜은 어떤 거버넌스에 의해 관리되는데, 여기서 필요한 것이 Maker라고 하는 유틸리티 토큰입니다. Maker 토큰(MKR)은 Maker DAO의 거버넌스에 참여할 수 있도록 하는 "의결권"에 해당합니다. 거버넌스는 안정화 수수료나 DAI 발행량 조정 같은 정책을 결정하는 것입니다. MKR 토큰을 많이 가지고 있으면 그에 비례하여 거버넌스 내에서 결정권이 강해진다고 볼 수 있습니다.

MKR 토큰 보유자들은 투표를 통해 시스템을 관리합니다. 이론적으로는 MKR을 많이 가진 소수가 시스템을 마음대로 할 수 있지만 실제로 그렇게 많은 토큰을 보유하기도 힘들 뿐 아니라 스스로 거버넌스를 좌지우지하여 Maker DAO와 이더리움의 가치를 떨어뜨리는 일은 없을 것 같습니다.

MKR은 상환시 수수료를 지불하는 용도로도 사용되는데 사용된 MKR은 소각되어 없어지므로 DAI 대출과 상환이 활성화될수록 MKR의 희소성이 증가하고 그에 따라 MKR의 가격은 오르게 됩니다. MKR 토큰 보유자들은 Maker 시스템이 잘 되면 이익을 보는 선순환 관계에 있기 때문에 올바른 거버넌스를 유지하려고 노력할 것입니다.

![maker01]({{site.baseurl}}/assets/img/MakerDAO.PNG)

## Global Settlement

전체 상환(settlement)은 Maker 시스템을 셧다운하는 것을 말합니다. 더 이상 Maker 시스템이 DAI 가격 안정과 MKR에 의해 유지되지 못할 정도로 심각한 시장 악화(돌발 상황, 블랙 스완 이벤트)에 의해 발생할 수 있습니다. 물론 MKR 보유자들의 합의에 의해 결정됩니다. 전체 상환이 실행되면, 모든 Vault 소유자는 담보로 잡힌 자산 ETH를 돌려 받게 됩니다.

💥Update(2020.03.13)  
WHO의 코로나 바이러스 팬데믹 선언으로 촉발된 세계 금융시장의 하락세와 맞물려 주요 암호화폐들도 하루 사이에 30-40%의 "기록적인" 급락을 보였습니다. 그야말로
말로만 듣던 "블랙 스완"이 현실화된 것입니다. MCD 역시 암호화폐인 ETH 담보를 기반으로 하기 때문에 시스템이 위험에 직면하게 되었습니다(테더와 같은 달러 기반의 스테이블 코인은 반대로 급등). 코인데스크 [기사](https://www.coindesk.com/defi-leader-makerdao-weighs-emergency-shutdown-following-eth-price-drop)에 따르면 이미 이 문제에 대한 논의가 시작 되었습니다.

아직 시스템의 전체 담보율은 현재 270% 정도(폭락 이전에는 약 300%)로 아직 "스테이블" 코인의 기능은 유지하고 있는 듯 보입니다. 그러나 기사에 따르면 이미 담보를 초과한 Vault의 "빚"이 400만 달러(약 50억원) 발생하였는데 <b>이더리움 네트워크의 정체(아마도 폭락에 따른 매도 거래의 폭주?)로 인하여 Collateral/Debt auction이 제대로 동작하지 않은 것처럼 보입니다. 경매에 참여한 Keeper가 한 명뿐이고, $0에 낙찰되어 청산 후 남은 담보가 0이 되면서 사용자가 큰 손해를 보는 [사태](https://www.reddit.com/r/MakerDAO/comments/fhn1qn/complete_vault_liquidation_no_eth_left/)도 발생한 듯 합니다(이것이 의도적인 것인지는 명확하지 않습니다).</b>

하지만 시스템 "셧다운"까지는 가지 않을 것 같습니다. 폭락 당시 오히려 담보율을 높이려고 Vault 소유자들이 추가적인 ETH를 예치하는 현상도 발생했습니다. 역설적으로 MCD가 얼마나 탈중앙화의 가치를 유지하면서 안정적으로 운영되는지를 보여줄 수 있는 기회가 될 수 있습니다.😂

💥Update(2020.03.17)  
MakerDAO의 리스크 관리 팀에서 제시한 시스템 파라미터 변경 표결 결과, 대출 이자에 해당하는 Stability fee가 <b>0.5%</b>로 하향 조정되었습니다. 팬데믹에 따른 글로벌 경제의 위기감으로 미국의 중앙은행이 제로 수준의 금리 인하와 유동성 공급(화폐 mint!)을 발표한 것과 유사한 상황입니다. 하지만 지금 이렇게 ETH를 비롯해서 거의 모든 암호화폐가 폭락을 거듭하는 상황에 DAI를 대출하려는 수요가 증가할 것 같지는 않습니다.

## References

[https://docs.makerdao.com/](https://docs.makerdao.com/)  
[https://community-development.makerdao.com/makerdao-mcd-faqs](https://community-development.makerdao.com/makerdao-mcd-faqs)  
[https://blog.makerdao.com/recent-market-activity-and-next-steps/](https://blog.makerdao.com/recent-market-activity-and-next-steps/)
